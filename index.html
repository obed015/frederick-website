<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Strategic Prayer Ministries - Home</title>

  <!-- Google Fonts -->
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;600;700&family=Playfair+Display:wght@400;600;700&display=swap" rel="stylesheet">

  <!-- Main stylesheet -->
  <link rel="stylesheet" href="css/styles.css" />

  <!-- Favicons -->
  <link rel="icon" href="favicon.ico" sizes="any">
  <link rel="icon" type="image/svg+xml" href="favicon.svg">
  <link rel="apple-touch-icon" href="apple-touch-icon.png">
  <link rel="manifest" href="site.webmanifest">
  <meta name="theme-color" content="#0b0d13">

  <!-- SEO -->
  <meta name="description" content="Strategic Prayer Ministries - A revival hub raising a people of prayer and setting hearts on fire for Jesus. Experience the Word, Prayer, and Healing.">
  <meta property="og:title" content="Strategic Prayer Ministries">
  <meta property="og:description" content="A revival hub raising a people of prayer and setting hearts on fire for Jesus">
  <meta property="og:image" content="assets/ministry1.webp">
  <meta property="og:url" content="https://strategicprayer.org">
</head>
<body>

<!-- Scroll Progress Indicator -->
<div class="scroll-progress" id="scrollProgress"></div>

<!-- Interactive Cursor -->
<div class="cursor-glow" id="cursorGlow"></div>

<!-- ===== Navigation ===== -->
<header class="nav" id="navbar" role="banner">
  <div class="nav__inner container">
    <a class="brand" href="#home">
      <img src="assets/spm-logo.webp" alt="Strategic Prayer Ministries Logo" class="brand__logo" />
      <span class="brand__name">Strategic Prayer Ministries</span>
    </a>

    <button
      class="nav__toggle"
      id="navToggle"
      aria-label="Open menu"
      aria-expanded="false"
      aria-controls="navLinks"
    >
      <span></span><span></span><span></span>
    </button>

    <nav class="nav__links" id="navLinks" role="navigation" aria-label="Primary">
      <div class="nav__dropdown" id="homeDropdown">
        <button
          class="nav__dropdown-toggle"
          id="homeDropdownButton"
          aria-haspopup="menu"
          aria-expanded="false"
          aria-controls="homeDropdownMenu"
        >
          Home
        </button>
        <div
          class="nav__dropdown-menu"
          id="homeDropdownMenu"
          role="menu"
          aria-labelledby="homeDropdownButton"
        >
          <a role="menuitem" href="#links">Links</a>
          <a role="menuitem" href="#media">Gallery & Videos</a>
        </div>
      </div>
      <a href="#who">Who We Are</a>
      <a href="giving.html">Giving</a>
      <a href="contact.html">Contact</a>
    </nav>
  </div>
</header>

<!-- ===== Hero Section ===== -->
<section class="hero hero--bg-pan hero--scrolling" id="home">
  <!-- Background position now controlled by CSS -->
  <div class="hero__bg" id="heroBg" style="background-image: url('assets/prayer-background.webp');"></div>
  <div class="hero__overlay" style="background: radial-gradient(ellipse at center, rgba(10, 10, 10, 0.15) 0%, rgba(10, 10, 10, 0.45) 100%);"></div>
  <div class="hero__content container">
    <h1 class="title" style="text-shadow: 0 3px 15px rgba(0, 0, 0, 0.95), 0 6px 30px rgba(0, 0, 0, 0.85), 0 2px 8px rgba(0, 0, 0, 1);">Strategic Prayer Ministries</h1>
    <p class="subtitle" style="text-shadow: 0 3px 12px rgba(0, 0, 0, 0.95), 0 6px 25px rgba(0, 0, 0, 0.85), 0 2px 6px rgba(0, 0, 0, 1);">
      A revival hub—raising a people of prayer and setting hearts on fire for Jesus.
    </p>
    <div class="hero__cta">
      <a href="#links" class="btn btn--gold">Explore</a>
      <a href="contact.html" class="btn btn--ghost">Get in touch</a>
    </div>
  </div>
  <div class="hero__wave" aria-hidden="true"></div>
</section>

<!-- ===== Who We Are ===== -->
<section class="section container" id="who">
  <div class="grid grid--2">
    <div class="animate-slide-in-left">
      <h2 class="section__title">Who We Are</h2>
      <p class="lead">
        Strategic Prayer Ministries is a <strong>daily apostolic and prophetic platform</strong>
        where people come to experience the <strong>Word, Prayer, and Healing</strong>.
        The Spirit of intercession upon the ministry enables believers to build their prayer lives
        and brings them into true intimacy with the Holy Spirit.
      </p>
    </div>
    <div class="card card--glow animate-slide-in-right">
      <div class="card__body">
        <ul class="list list--checked">
          <li>Daily prayer & the Word</li>
          <li>Healing, miracles, and prophetic ministry</li>
          <li>Intimacy with the Holy Spirit</li>
        </ul>
        <a href="about.html" class="btn btn--gold" style="margin-top: 1rem;">Learn More</a>
      </div>
    </div>
  </div>
</section>

<!-- ===== Links Carousel ===== -->
<section class="links-rail" id="links" aria-labelledby="links-title">
  <div class="links-rail__bg" aria-hidden="true"></div>

  <div class="container">
    <h2 class="section__title" id="links-title">Explore SPM</h2>

    <div class="rail-wrap">
      <button class="rail-nav rail-nav--prev" aria-label="Scroll left">
        <svg width="20" height="20" viewBox="0 0 24 24" fill="none" aria-hidden="true">
          <path d="M15 19l-7-7 7-7" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
        </svg>
      </button>

      <div class="rail" role="list" tabindex="0" aria-label="Quick links">
        <!-- Card 1: External Ministrations -->
        <a class="rail-card rail-card--external" role="listitem"
           href="external-ministrations.html"
           aria-label="External Ministrations — events and outreaches">
          <div class="rail-card__body">
            <div class="rail-card__title">External Ministrations</div>
            <div class="rail-card__tag">EVENTS</div>
          </div>
        </a>

        <!-- Card 2: Testimonies -->
        <a class="rail-card rail-card--testimonies" href="testimonies.html" role="listitem"
           aria-label="Testimonies — stories and experiences">
          <div class="rail-card__body">
            <div class="rail-card__title">Testimonies</div>
            <div class="rail-card__tag">TESTIMONIES</div>
          </div>
        </a>

        <!-- Card 3: Seed, Tithes & Offering -->
        <a class="rail-card rail-card--giving" role="listitem"
           href="giving.html"
           aria-label="Seed, Tithes and Offering — give online">
          <div class="rail-card__body">
            <div class="rail-card__title">Seed, Tithes & Offering</div>
            <div class="rail-card__tag">GIVE</div>
          </div>
        </a>

        <!-- Card 4: Prayer Request -->
        <a class="rail-card rail-card--prayer" role="listitem"
           href="prayer-request.html"
           aria-label="Prayer Request — submit your prayer needs">
          <div class="rail-card__body">
            <div class="rail-card__title">Prayer Request</div>
            <div class="rail-card__tag">PRAYER</div>
          </div>
        </a>

        <!-- Card 5: About SPM -->
        <a class="rail-card rail-card--about" role="listitem"
           href="about.html"
           aria-label="About SPM — who we are">
           <div class="rail-card__body">
            <div class="rail-card__title">About SPM</div>
            <div class="rail-card__tag">INFO</div>
           </div>
        </a>
      </div>

      <button class="rail-nav rail-nav--next" aria-label="Scroll right">
        <svg width="20" height="20" viewBox="0 0 24 24" fill="none" aria-hidden="true">
          <path d="M9 5l7 7-7 7" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
        </svg>
      </button>
    </div>
  </div>
</section>

<!-- ===== Gallery & Videos ===== -->
<section class="section section--alt" id="media">
  <div class="container">
    <h2 class="section__title">Gallery & Videos</h2>

    <div class="masonry">
      <img src="assets/ministry1.webp" alt="Ministry Photo 1" loading="lazy" />
      <img src="assets/ministry2.webp" alt="Ministry Photo 2" loading="lazy" />
      <img src="assets/ministry3.webp" alt="Ministry Photo 3" loading="lazy" />
      <img src="assets/ministry4.webp" alt="Ministry Photo 4" loading="lazy" />
      <img src="assets/ministry5.webp" alt="Ministry Photo 5" loading="lazy" />
      <img src="assets/ministry6.webp" alt="Ministry Photo 6" loading="lazy" />
    </div>

    <div class="media-cta" style="text-align: center;">
      <a href="testimonies.html" class="btn btn--gold">View All Testimonies</a>
    </div>
  </div>
</section>

<!-- ===== Footer ===== -->
<footer class="footer">
  <div class="container">
    <div class="footer-logo-wrapper">
      <a href="index.html">
        <img src="assets/spm-logo.webp" alt="Strategic Prayer Ministries Logo" class="footer-logo" />
      </a>
    </div>
    <div class="footer-container">
      <div>
        <h4>MINISTRY</h4>
        <ul>
          <li><a href="about.html">About Us</a></li>
          <li><a href="giving.html">Giving</a></li>
          <li><a href="prayer-request.html">Prayer Request</a></li>
        </ul>
      </div>
      <div>
        <h4>RESOURCES</h4>
        <ul>
          <li><a href="#media">Gallery</a></li>
          <li><a href="testimonies.html">Videos</a></li>
        </ul>
      </div>
      <div>
        <h4>CONNECT WITH US</h4>
        <div class="social-badges">
          <a href="mailto:info@strategicprayer.org" class="badge badge--email" aria-label="Email us">
            <svg class="icon" viewBox="0 0 24 24" fill="currentColor" aria-hidden="true">
              <path d="M20 4H4a2 2 0 0 0-2 2v1.2l10 6.25L22 7.2V6a2 2 0 0 0-2-2Zm0 5.6-8 5-8-5V18a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V9.6Z"/>
            </svg>
            <span>EMAIL</span>
          </a>
          <a href="https://us02web.zoom.us/j/4880417404?pwd=a2g2MWIyblpGTkdyQUtybEx2YkpjZz09" class="badge badge--zoom" target="_blank" rel="noopener" aria-label="Join us on Zoom">
            <svg class="icon" viewBox="0 0 24 24" fill="currentColor" aria-hidden="true">
              <path d="M3 7a3 3 0 0 1 3-3h8a3 3 0 0 1 3 3v1.2l3.2-2a1 1 0 0 1 1.53.85V17a1 1 0 0 1-1.53.85L17 15.8V17a3 3 0 0 1-3 3H6a3 3 0 0 1-3-3V7Z"/>
            </svg>
            <span>ZOOM</span>
          </a>
          <a href="https://www.youtube.com/@yourChannel" class="badge badge--youtube" target="_blank" rel="noopener" aria-label="Watch on YouTube">
            <svg class="icon" viewBox="0 0 24 24" fill="currentColor" aria-hidden="true">
              <path d="M23.5 6.2a3 3 0 0 0-2.1-2.1C19.5 3.5 12 3.5 12 3.5s-7.5 0-9.4.6A3 3 0 0 0 .5 6.2C0 8.1 0 12 0 12s0 3.9.5 5.8a3 3 0 0 0 2.1 2.1c1.9.5 9.4.5 9.4.5s7.5 0 9.4-.5a3 3 0 0 0 2.1-2.1C24 15.9 24 12 24 12s0-3.9-.5-5.8ZM9.5 15.6V8.4L15.8 12l-6.3 3.6Z"/>
            </svg>
            <span>YOUTUBE</span>
          </a>
        </div>
        <div class="newsletter">
          <h4>Subscribe</h4>
          <form>
            <input type="email" placeholder="Your Email" required />
            <button type="submit">Join</button>
          </form>
        </div>
      </div>
    </div>
    <div class="scripture" id="scripture"></div>
    <div class="footer-bottom">
      <div class="footer-bottom-row">
        <p>© <span id="year"></span> Strategic Prayer Ministries. All rights reserved.</p>
        <div class="footer-links">
          <a href="#">Privacy Policy</a>
          <span>•</span>
          <a href="#">Terms & Conditions</a>
        </div>
      </div>
    </div>
  </div>
</footer>

<!-- ===== JavaScript ===== -->
<script>
  (function () {
    const navbar = document.getElementById('navbar');
    const navToggle = document.getElementById('navToggle');
    const navLinks  = document.getElementById('navLinks');
    const homeDropdown = document.getElementById('homeDropdown');
    const dropdownButton = document.getElementById('homeDropdownButton');

    // Nav shadow on scroll
    function onNavScroll() {
      navbar.classList.toggle('scrolled', window.scrollY > 50);
    }
    onNavScroll();
    window.addEventListener('scroll', onNavScroll, { passive: true });

    // Mobile menu toggle
    navToggle.addEventListener('click', () => {
      const open = !navLinks.classList.contains('active');
      navLinks.classList.toggle('active', open);
      navToggle.setAttribute('aria-expanded', String(open));
      if (!open) {
        homeDropdown.classList.remove('active');
        dropdownButton && dropdownButton.setAttribute('aria-expanded', 'false');
      }
    });

    // Dropdown toggle
    if (dropdownButton) {
      dropdownButton.addEventListener('click', (e) => {
        e.preventDefault();
        const open = !homeDropdown.classList.contains('active');
        homeDropdown.classList.toggle('active', open);
        dropdownButton.setAttribute('aria-expanded', String(open));
      });
    }

    // Close on outside click
    document.addEventListener('click', (e) => {
      if (!navbar.contains(e.target)) {
        navLinks.classList.remove('active');
        navToggle.setAttribute('aria-expanded', 'false');
        homeDropdown.classList.remove('active');
        dropdownButton && dropdownButton.setAttribute('aria-expanded', 'false');
      }
    });

    // Close on ESC
    document.addEventListener('keydown', (e) => {
      if (e.key === 'Escape') {
        navLinks.classList.remove('active');
        navToggle.setAttribute('aria-expanded', 'false');
        homeDropdown.classList.remove('active');
        dropdownButton && dropdownButton.setAttribute('aria-expanded', 'false');
      }
    });

    // Collapse after clicking any link
    document.querySelectorAll('.nav__links a, .nav__dropdown-menu a').forEach(a => {
      a.addEventListener('click', () => {
        navLinks.classList.remove('active');
        navToggle.setAttribute('aria-expanded', 'false');
        homeDropdown.classList.remove('active');
        dropdownButton && dropdownButton.setAttribute('aria-expanded', 'false');
      });
    });

    // ===== Enhanced Parallax Effect =====
    const hero = document.querySelector('.hero');
    const heroBg = document.getElementById('heroBg');
    
    if (hero && heroBg) {
      // Check for reduced motion preference
      const prefersReduced = window.matchMedia('(prefers-reduced-motion: reduce)').matches;
      
      if (!prefersReduced) {
        let ticking = false;
        
        function updateParallax() {
          const scrolled = window.pageYOffset;
          const heroHeight = hero.offsetHeight;
          const scrollProgress = Math.min(scrolled / heroHeight, 1);
          
          // Enhanced parallax calculation
          const parallaxSpeed = 0.4; // Slower for smoother effect
          const yPos = scrolled * parallaxSpeed;
          
          // Scale effect that increases slightly as you scroll
          const scaleBase = 1.1;
          const scaleMax = scaleBase + 0.1;
          const currentScale = scaleBase + (scrollProgress * (scaleMax - scaleBase));
          
          // Apply transform with better performance
          heroBg.style.transform = `translate3d(0, ${yPos}px, 0) scale(${currentScale})`;
          
          ticking = false;
        }
        
        function requestTick() {
          if (!ticking) {
            requestAnimationFrame(updateParallax);
            ticking = true;
          }
        }
        
        // Initial call
        updateParallax();
        
        // Scroll listener with throttling
        window.addEventListener('scroll', requestTick, { passive: true });
        window.addEventListener('resize', updateParallax);
        
        // Intersection Observer for performance optimization
        const observer = new IntersectionObserver((entries) => {
          entries.forEach(entry => {
            if (entry.isIntersecting) {
              window.addEventListener('scroll', requestTick, { passive: true });
            } else {
              window.removeEventListener('scroll', requestTick);
            }
          });
        }, { rootMargin: '10px' });
        
        observer.observe(hero);
      }
    }

    // ===== Footer verses =====
    document.getElementById("year").textContent = new Date().getFullYear();
    const verses = [
      '"Is not my word like as a fire? saith the Lord; and like a hammer that breaketh the rock in pieces?" Jeremiah 23:29',
      '"But they that wait upon the Lord shall renew their strength; they shall mount up with wings as eagles; they shall run, and not be weary; and they shall walk, and not faint." Isaiah 40:31',
      '"Then saith he unto his disciples, The harvest truly is plenteous, but the labourers are few; Pray ye therefore the Lord of the harvest, that he will send forth labourers into his harvest." Matthew 9:37–38'
    ];
    let index = 0;
    function showVerse() {
      const el = document.getElementById("scripture");
      if (!el) return;
      el.textContent = verses[index];
      index = (index + 1) % verses.length;
    }
    showVerse();
    setInterval(showVerse, 8000);

    // ===== Scroll Progress Indicator =====
    const progressEl = document.getElementById('scrollProgress');
    const updateProgress = () => {
      const scrollTop = window.scrollY || document.documentElement.scrollTop;
      const docHeight = document.documentElement.scrollHeight - window.innerHeight;
      const pct = docHeight > 0 ? (scrollTop / docHeight) * 100 : 0;
      progressEl.style.width = pct + '%';
    };
    window.addEventListener('scroll', updateProgress, { passive: true });
    window.addEventListener('resize', updateProgress);
    updateProgress();

    // ===== Interactive Cursor Glow =====
    const cursor = document.getElementById('cursorGlow');
    let rafPending = false, targetX = 0, targetY = 0;
    const onMove = (e) => { 
      targetX = e.clientX; 
      targetY = e.clientY; 
      if (!rafPending) { 
        rafPending = true; 
        requestAnimationFrame(renderCursor); 
      } 
    };
    function renderCursor() {
      rafPending = false;
      cursor.style.transform = `translate(${targetX - 12}px, ${targetY - 12}px)`;
    }
    window.addEventListener('mousemove', onMove, { passive: true });

    // ===== Carousel navigation functionality =====
    (function () {
      const rail = document.querySelector('.rail');
      const prevBtn = document.querySelector('.rail-nav--prev');
      const nextBtn = document.querySelector('.rail-nav--next');

      if (!rail || !prevBtn || !nextBtn) return;

      let step = 330; // fallback
      let epsilon = 2; // tolerance

      function computeStep() {
        const firstCard = rail.querySelector('.rail-card');
        if (!firstCard) return;
        const styles = getComputedStyle(rail);
        const gap = parseFloat(styles.gap || styles.columnGap || 0) || 0;
        step = firstCard.getBoundingClientRect().width + gap;
        epsilon = Math.max(2, Math.round(step * 0.02));
      }

      function scrollByStep(dir = 1) {
        rail.scrollBy({ left: dir * step, behavior: 'smooth' });
      }

      function updateNavButtons() {
        const maxScroll = rail.scrollWidth - rail.clientWidth;
        const atStart = rail.scrollLeft <= epsilon;
        const atEnd = rail.scrollLeft >= (maxScroll - epsilon);

        prevBtn.style.opacity = atStart ? '0.5' : '1';
        prevBtn.style.pointerEvents = atStart ? 'none' : 'auto';
        prevBtn.setAttribute('aria-disabled', String(atStart));

        nextBtn.style.opacity = atEnd ? '0.5' : '1';
        nextBtn.style.pointerEvents = atEnd ? 'none' : 'auto';
        nextBtn.setAttribute('aria-disabled', String(atEnd));
      }

      computeStep();
      updateNavButtons();

      prevBtn.addEventListener('click', () => scrollByStep(-1));
      nextBtn.addEventListener('click', () => scrollByStep(1));

      rail.addEventListener('keydown', (e) => {
        if (e.key === 'ArrowLeft') {
          e.preventDefault();
          scrollByStep(-1);
        } else if (e.key === 'ArrowRight') {
          e.preventDefault();
          scrollByStep(1);
        }
      });

      // Drag support
      let isDown = false, startX = 0, startLeft = 0;
      rail.addEventListener('mousedown', (e) => {
        isDown = true;
        startX = e.pageX;
        startLeft = rail.scrollLeft;
        rail.classList.add('is-dragging');
      });
      window.addEventListener('mouseup', () => { isDown = false; rail.classList.remove('is-dragging'); });
      rail.addEventListener('mouseleave', () => { isDown = false; rail.classList.remove('is-dragging'); });
      rail.addEventListener('mousemove', (e) => {
        if (!isDown) return;
        e.preventDefault();
        rail.scrollLeft = startLeft - (e.pageX - startX) * 2;
      });

      rail.addEventListener('scroll', updateNavButtons, { passive: true });
      window.addEventListener('resize', () => { computeStep(); updateNavButtons(); });
    })();

    console.log('Strategic Prayer Ministries website loaded successfully!');
  })();
</script>

</body>
</html>