<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Contact — Strategic Prayer Ministries</title>

  <!-- Google Fonts -->
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;600;700&family=Playfair+Display:wght@400;600;700&display=swap" rel="stylesheet">

  <!-- Main stylesheet -->
  <link rel="stylesheet" href="css/styles.css" />

  <!-- Favicons -->
  <link rel="icon" href="favicon.ico" sizes="any">
  <link rel="icon" type="image/svg+xml" href="favicon.svg">
  <link rel="apple-touch-icon" href="apple-touch-icon.png">
  <link rel="manifest" href="site.webmanifest">
  <meta name="theme-color" content="#0b0d13">

  <!-- SEO -->
  <meta name="description" content="Get in touch with Strategic Prayer Ministries. Send us a message and we'll respond as soon as possible.">
</head>
<body>

<!-- Scroll Progress Indicator -->
<div class="scroll-progress" id="scrollProgress"></div>

<!-- Interactive Cursor -->
<div class="cursor-glow" id="cursorGlow"></div>

<!-- ===== Navigation ===== -->
<header class="nav" id="navbar">
  <div class="nav__inner container">
    <a class="brand" href="index.html">
      <img src="assets/spm-logo.webp" alt="Strategic Prayer Ministries Logo" class="brand__logo" />
      <span class="brand__name">Strategic Prayer Ministries</span>
    </a>
    <button class="nav__toggle" aria-label="Open menu" aria-expanded="false" aria-controls="navLinks" id="navToggle">
      <span></span><span></span><span></span>
    </button>
    <nav class="nav__links" id="navLinks">
      <div class="nav__dropdown" id="homeDropdown">
        <button class="nav__dropdown-toggle" aria-expanded="false" aria-controls="homeDropdownMenu">Home</button>
        <div class="nav__dropdown-menu" id="homeDropdownMenu">
          <a href="index.html#links">Links</a>
          <a href="index.html#media">Gallery & Videos</a>
        </div>
      </div>
      <a href="index.html#who">Who We Are</a>
      <a href="giving.html">Giving</a>
      <a href="contact.html">Contact</a>
    </nav>
  </div>
</header>

<!-- ===== Contact Hero ===== -->
<section class="hero" style="min-height: 60vh; background: var(--gradient-hero);">
  <div class="hero__overlay"></div>
  <div class="hero__content container">
    <h1 class="title">Get In Touch</h1>
    <p class="subtitle">
      We'd love to hear from you. Send us a message and we'll respond as soon as possible.
    </p>
  </div>
</section>

<!-- ===== Contact Form Section ===== -->
<section class="section">
  <div class="container">
    <div style="max-width: 800px; margin: 0 auto;">
      <div style="text-align: center; margin-bottom: 3rem;">
        <h2 style="font-size: 2rem; color: var(--accent-gold); margin-bottom: 0.5rem;">Have a question? We're here to help.</h2>
        <div style="width: 60px; height: 3px; background: linear-gradient(90deg, transparent, var(--accent-cyan), transparent); margin: 0 auto;"></div>
      </div>

      <!-- 3D Contact Form Card -->
      <div class="contact-card" id="contactFormCard">
        <div class="card__body card__body--pad-lg">
          <h3 style="margin-bottom: 0.5rem; font-size: 1.5rem;">Send us a message</h3>
          <p style="color: var(--text-muted); margin-bottom: 2rem;">"*" indicates required fields</p>

          <form id="contactForm" novalidate>
            <input type="hidden" name="_subject" value="New message from Strategic Prayer Ministries website" />
            <input type="text" name="_gotcha" style="display:none" tabindex="-1" autocomplete="off" />

            <div class="form-grid">
              <div class="form-group field">
                <input id="firstName" name="firstName" class="input" type="text" placeholder=" " required />
                <label for="firstName" class="form-label">First Name *</label>
                <span class="field__icon">
                  <svg width="20" height="20" viewBox="0 0 24 24" fill="currentColor" aria-hidden="true">
                    <path d="M12 12c2.76 0 5-2.69 5-6s-2.24-6-5-6-5 2.69-5 6 2.24 6 5 6Zm0 2c-4.42 0-8 2.69-8 6v2h16v-2c0-3.31-3.58-6-8-6Z"/>
                  </svg>
                </span>
              </div>
              <div class="form-group field">
                <input id="lastName" name="lastName" class="input" type="text" placeholder=" " required />
                <label for="lastName" class="form-label">Last Name *</label>
                <span class="field__icon">
                  <svg width="20" height="20" viewBox="0 0 24 24" fill="currentColor" aria-hidden="true">
                    <path d="M12 12c2.76 0 5-2.69 5-6s-2.24-6-5-6-5 2.69-5 6 2.24 6 5 6Zm0 2c-4.42 0-8 2.69-8 6v2h16v-2c0-3.31-3.58-6-8-6Z"/>
                  </svg>
                </span>
              </div>
            </div>

            <div class="form-group field">
              <input id="email" name="email" class="input" type="email" placeholder=" " required />
              <label for="email" class="form-label">Email *</label>
              <span class="field__icon">
                <svg width="20" height="20" viewBox="0 0 24 24" fill="currentColor" aria-hidden="true">
                  <path d="M20 4H4a2 2 0 0 0-2 2v12a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V6a2 2 0 0 0-2-2Zm0 4-8 5L4 8V6l8 5 8-5v2Z"/>
                </svg>
              </span>
            </div>

            <div class="form-group field">
              <textarea id="message" name="message" class="textarea" placeholder=" " required></textarea>
              <label for="message" class="form-label">Message *</label>
              <span class="field__icon" style="top:14px; transform:none;">
                <svg width="20" height="20" viewBox="0 0 24 24" fill="currentColor" aria-hidden="true">
                  <path d="M20 2H4a2 2 0 0 0-2 2v18l4-4h14a2 2 0 0 0 2-2V4a2 2 0 0 0-2-2Z"/>
                </svg>
              </span>
            </div>

            <div style="text-align: center; margin-top: 2rem;">
              <button id="submitBtn" type="submit" class="btn btn--gold">Send Message</button>
              <div id="formHint" style="margin-top: 1rem; color: var(--text-muted); font-size: 0.9rem;" role="status" aria-live="polite"></div>
            </div>
          </form>
        </div>
      </div>
    </div>
  </div>
</section>

<!-- ===== Footer (updated to branded-style icons) ===== -->
<footer class="footer">
  <div class="container">
    <div class="footer-logo-wrapper">
      <a href="index.html">
        <img src="assets/spm-logo.webp" alt="Strategic Prayer Ministries Logo" class="footer-logo" />
      </a>
    </div>
    <div class="footer-container">
      <div>
        <h4>MINISTRY</h4>
        <ul>
          <li><a href="about.html">About Us</a></li>
          <li><a href="giving.html">Giving</a></li>
          <li><a href="prayer-request.html">Prayer Request</a></li>
        </ul>
      </div>
      <div>
        <h4>RESOURCES</h4>
        <ul>
          <li><a href="index.html#media">Gallery</a></li>
          <li><a href="testimonies.html">Videos</a></li>
        </ul>
      </div>
      <div>
        <h4>CONNECT WITH US</h4>
        <div class="social-badges">
          <!-- Email (envelope) -->
          <a href="mailto:S.prayerministries@yahoo.com" class="badge badge--email" aria-label="Email us">
            <svg class="icon" viewBox="0 0 24 24" fill="currentColor" aria-hidden="true">
              <path d="M20 4H4a2 2 0 0 0-2 2v12a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V6a2 2 0 0 0-2-2Zm0 3.2-8 5.2-8-5.2V6l8 5.2L20 6v1.2Z"/>
            </svg>
            <span>EMAIL</span>
          </a>

          <!-- Zoom (camera glyph in rounded rectangle) -->
          <a href="https://us02web.zoom.us/j/4880417404?pwd=a2g2MWIyblpGTkdyQUtybEx2YkpjZz09" class="badge badge--zoom" target="_blank" rel="noopener" aria-label="Join us on Zoom">
            <svg class="icon" viewBox="0 0 24 24" fill="currentColor" aria-hidden="true">
              <path d="M3.6 5h10.8A2.6 2.6 0 0 1 17 7.6v1.9l3.8-2.8a1 1 0 0 1 1.6.8v9a1 1 0 0 1-1.6.8L17 14.5v1.9A2.6 2.6 0 0 1 14.4 19H3.6A2.6 2.6 0 0 1 1 16.4V7.6A2.6 2.6 0 0 1 3.6 5Z"/>
            </svg>
            <span>ZOOM</span>
          </a>

          <!-- YouTube (official play button shape) -->
          <a href="https://www.youtube.com/@yourChannel" class="badge badge--youtube" target="_blank" rel="noopener" aria-label="Watch on YouTube">
            <svg class="icon" viewBox="0 0 24 24" fill="currentColor" aria-hidden="true">
              <path d="M23.5 6.2a3 3 0 0 0-2.1-2.1C19.5 3.6 12 3.6 12 3.6s-7.5 0-9.4.5A3 3 0 0 0 .5 6.2C0 8.1 0 12 0 12s0 3.9.5 5.8a3 3 0 0 0 2.1 2.1c1.9.5 9.4.5 9.4.5s7.5 0 9.4-.5a3 3 0 0 0 2.1-2.1C24 15.9 24 12 24 12s0-3.9-.5-5.8ZM9.6 15.6V8.4L15.9 12l-6.3 3.6Z"/>
            </svg>
            <span>YOUTUBE</span>
          </a>
        </div>
        <div class="newsletter">
          <h4>Subscribe</h4>
          <form>
            <input type="email" placeholder="Your Email" required />
            <button type="submit">Join</button>
          </form>
        </div>
      </div>
    </div>
    <div class="scripture" id="scripture"></div>
       <div class="footer-bottom">
      <div class="footer-bottom-row">
        <p>© <span id="year"></span> Strategic Prayer Ministries. All rights reserved.</p>
        <div class="footer-links">
          <a href="privacy-policy.html">Privacy Policy</a>
          <span>•</span>
          <a href="terms-conditions.html">Terms & Conditions</a>
        </div>
      </div>
    </div>
  </div>
</footer>
    
<!-- Success Overlay -->
<div id="successOverlay" style="position: fixed; inset: 0; background: rgba(0, 0, 0, 0.7); display: none; align-items: center; justify-content: center; z-index: 99999;">
  <div style="background: var(--secondary-bg); color: var(--text-primary); border: 1px solid var(--border-color); border-radius: 16px; padding: 2rem; max-width: 420px; width: 90%; text-align: center; box-shadow: var(--shadow-xl);">
    <h3 style="color: #22c55e; font-size: 1.45rem; margin-bottom: 0.5rem;">✅ Message Received</h3>
    <p style="color: var(--text-secondary); font-size: 1rem; margin-bottom: 1.25rem;">Thank you! Your message has been received. We'll get back to you shortly.</p>
    <button type="button" onclick="closeSuccess()" class="btn btn--gold">Close</button>
  </div>
</div>

<!-- Toast notification -->
<div class="toast" id="toast" role="status" aria-live="polite" aria-atomic="true"></div>

<!-- ===== JavaScript ===== -->
<script>
  // Navbar scroll effect
  const navbar = document.getElementById('navbar');
  window.addEventListener('scroll', () => {
    navbar?.classList.toggle('scrolled', window.scrollY > 50);
  }, { passive: true });

  // Mobile toggle
  const navToggle = document.getElementById('navToggle');
  const navLinks = document.getElementById('navLinks');
  navToggle?.addEventListener('click', () => {
    navLinks?.classList.toggle('active');
    const expanded = navToggle.getAttribute('aria-expanded') === 'true';
    navToggle.setAttribute('aria-expanded', String(!expanded));
  });

  // Dropdown
  const homeDropdown = document.getElementById('homeDropdown');
  const dropdownToggle = homeDropdown?.querySelector('.nav__dropdown-toggle');
  dropdownToggle?.addEventListener('click', (e) => {
    e.preventDefault();
    homeDropdown.classList.toggle('active');
    const isExpanded = homeDropdown.classList.contains('active');
    dropdownToggle.setAttribute('aria-expanded', String(isExpanded));
  });

  // Close dropdown on outside click
  document.addEventListener('click', (e) => {
    if (homeDropdown && !homeDropdown.contains(e.target) && !e.target.closest('#homeDropdown')) {
      homeDropdown.classList.remove('active');
      dropdownToggle?.setAttribute('aria-expanded', 'false');
    }
  });

  // Footer year + scripture rotation
  document.getElementById('year').textContent = new Date().getFullYear();
  const verses = [
    '"Is not my word like as a fire? saith the Lord; and like a hammer that breaketh the rock in pieces?" Jeremiah 23:29',
    '"But they that wait upon the Lord shall renew their strength..." Isaiah 40:31',
    '"The harvest truly is plenteous, but the labourers are few..." Matthew 9:37–38'
  ];
  let verseIdx = 0;
  function showVerse(){ 
    const el = document.getElementById('scripture');
    if (el) {
      el.textContent = verses[verseIdx]; 
      verseIdx = (verseIdx+1)%verses.length; 
    }
  }
  showVerse(); 
  setInterval(showVerse, 8000);

  // ===== Scroll Progress Indicator =====
  const progressEl = document.getElementById('scrollProgress');
  const updateProgress = () => {
    const scrollTop = window.scrollY || document.documentElement.scrollTop;
    const docHeight = document.documentElement.scrollHeight - window.innerHeight;
    const pct = docHeight > 0 ? (scrollTop / docHeight) * 100 : 0;
    progressEl.style.width = pct + '%';
  };
  window.addEventListener('scroll', updateProgress, { passive: true });
  window.addEventListener('resize', updateProgress);
  updateProgress();

  // ===== Interactive Cursor Glow =====
  const cursor = document.getElementById('cursorGlow');
  let rafPending = false; let targetX = 0; let targetY = 0;
  const onMove = (e) => { 
    targetX = e.clientX; 
    targetY = e.clientY; 
    if (!rafPending) { 
      rafPending = true; 
      requestAnimationFrame(renderCursor); 
    } 
  };
  function renderCursor(){
    rafPending = false;
    cursor.style.transform = `translate(${targetX - 12}px, ${targetY - 12}px)`;
  }
  window.addEventListener('mousemove', onMove, { passive: true });

  // ===== 3D Card Hover Effects (Contact Forms Only) =====
  const contactCard = document.getElementById('contactFormCard');
  const maxTilt = 10; // degrees
  let cardRaf;
  
  function handleCardMove(e){
    const rect = contactCard.getBoundingClientRect();
    const x = e.clientX - rect.left; // 0 → width
    const y = e.clientY - rect.top;  // 0 → height
    const pctX = (x / rect.width) * 2 - 1;  // -1 → 1
    const pctY = (y / rect.height) * 2 - 1; // -1 → 1
    const rotY = pctX * maxTilt;     // left/right
    const rotX = -pctY * maxTilt;    // up/down
    
    if (cardRaf) cancelAnimationFrame(cardRaf);
    cardRaf = requestAnimationFrame(() => {
      contactCard.style.transform = `perspective(900px) rotateX(${rotX.toFixed(2)}deg) rotateY(${rotY.toFixed(2)}deg)`;
      contactCard.style.boxShadow = `var(--shadow-xl)`;
    });
  }
  
  function resetCard(){
    if (cardRaf) cancelAnimationFrame(cardRaf);
    contactCard.style.transform = 'perspective(900px) rotateX(0) rotateY(0)';
    contactCard.style.boxShadow = 'var(--shadow-md)';
  }
  
  contactCard.addEventListener('mousemove', handleCardMove);
  contactCard.addEventListener('mouseleave', resetCard);
  contactCard.addEventListener('mouseenter', () => {
    contactCard.style.transition = 'transform 0.08s ease, box-shadow 0.15s ease';
  });

  // ===== Enhanced Form Interactions =====
  const fields = document.querySelectorAll('.field');
  fields.forEach((wrap) => {
    const input = wrap.querySelector('input, textarea');
    const icon = wrap.querySelector('.field__icon');

    if (!input) return;

    input.addEventListener('focus', () => wrap.classList.add('is-focused'));
    input.addEventListener('blur', () => wrap.classList.remove('is-focused'));

    // Pulse icon while typing (debounced)
    let typingTimer;
    input.addEventListener('input', () => {
      if (!icon) return;
      icon.classList.add('typing');
      clearTimeout(typingTimer);
      typingTimer = setTimeout(() => icon.classList.remove('typing'), 320);
    });
  });

  // ===== Contact form submission =====
  const FORMSPREE_URL = 'https://formspree.io/f/mandlnyw';
  const form = document.getElementById('contactForm');
  const submitBtn = document.getElementById('submitBtn');
  const formHint = document.getElementById('formHint');

  function closeSuccess(){ 
    document.getElementById('successOverlay').style.display = 'none'; 
  }

  function showToast(message, isError = false) {
    const toast = document.getElementById('toast');
    toast.textContent = message;
    toast.className = isError ? 'toast error' : 'toast';
    toast.style.display = 'block';
    setTimeout(() => toast.style.display = 'none', 5000);
  }

  form.addEventListener('submit', async (e) => {
    e.preventDefault();
    if (!form.reportValidity()) return;

    submitBtn.disabled = true;
    submitBtn.innerHTML = '<span class="loading-spinner"></span> Sending…';
    formHint.textContent = 'Please wait…';

    try {
      const data = new FormData(form);
      data.append('name', `${form.firstName.value} ${form.lastName.value}`.trim());

      const res = await fetch(FORMSPREE_URL, { 
        method: 'POST', 
        headers: { 'Accept': 'application/json' }, 
        body: data 
      });

      if (res.ok) {
        form.reset();
        formHint.textContent = 'Sent successfully!';
        document.getElementById('successOverlay').style.display = 'flex';
        showToast('Message sent successfully!');
      } else {
        formHint.textContent = 'Error sending message. Please try again.';
        showToast('Error sending message. Please try again.', true);
      }
    } catch (err) {
      formHint.textContent = 'Network error. Please check your connection.';
      showToast('Network error. Please check your connection.', true);
    } finally {
      submitBtn.disabled = false;
      submitBtn.innerHTML = 'Send Message';
    }
  });

  console.log('Contact page loaded with 3D effects!');
</script>

</body>
</html>